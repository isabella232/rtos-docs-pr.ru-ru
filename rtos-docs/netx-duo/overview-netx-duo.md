---
title: Общие сведения о NetX Duo для ОСРВ Azure
description: NetX Duo в ОСРВ Azure — это расширенный сетевой стек TCP/IP промышленного класса, предназначенный специально для глубоко внедренных приложений, работающих в реальном времени, и приложений Интернета вещей.
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: overview
ms.openlocfilehash: 4fa67f9a740e731618c200b80e2ff3278530abe8aaf7f1d73b9a7f4acc02e543
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2021
ms.locfileid: "116791639"
---
# <a name="overview-of-azure-rtos-netx-duo"></a>Обзор NetX Duo для ОСРВ Azure

Сетевой стек NetX Duo для ОСРВ Azure с внедренным TCP/IP — это передовой двойной стек TCP/IP промышленного уровня с поддержкой IPv4 и IPv6 от Майкрософт, который предназначен специально для глубоко внедренных приложений, приложений Интернета вещей и приложений, работающих в реальном времени. NetX Duo предоставляет внедренным приложениям базовые сетевые протоколы, такие как IPv4, IPv6, TCP и UDP, и полный набор дополнительных подключаемых протоколов. NetX Duo для ОСРВ Azure обеспечивает безопасность с помощью дополнительных подключаемых продуктов безопасности, в том числе Azure RTOS NetX Secure IPsec и Azure RTOS NetX Secure SSL, TLS, DTLS. В сочетании с небольшими требованиями к ресурсам, высокой производительностью и непревзойденной простотой использования NetX Duo для ОСРВ Azure является идеальным выбором при использовании самых требовательных внедренных приложений Интернета вещей.

## <a name="api-protocols"></a>Протоколы API

### <a name="mqtt"></a>MQTT

* Транспортировка телеметрии очередью сообщений (MQTT).
* Всего 2,7 КБ занимаемой флэш-памяти.

### <a name="auto-ip"></a>Auto IP

* Автоматическое назначение IPv4-адресов.
* Всего 1,2 КБ занимаемой памяти и 300 байт в ОЗУ.

### <a name="http-https"></a>HTTP, HTTPS
NetX Duo поддерживает следующие протоколы HTTP/HTTPS.

#### <a name="http-10"></a>HTTP 1.0

* Протокол HTTP.
* Всего 2,8–4,8 КБ занимаемой флэш-памяти, 0,4–1,0 КБ в ОЗУ.
* Поддержка клиентов и серверов.

#### <a name="httphttps-11"></a>HTTP/HTTPS 1.1

* Протокол HTTP.
* Всего 3,0–9,5 КБ занимаемой флэш-памяти, 0,5–2 КБ в ОЗУ.
* Поддержка клиентов и серверов.
* Поддержка нескольких входящих сеансов клиентов.
* Поддержка передачи обычного текста и зашифрованных данных HTTPS.
* Поддержка постоянных подключений.
* Передача составных файлов.
* Полная интеграция с NetX Secure TLS для ОСРВ Azure.

### <a name="smtp"></a>SMTP

* Протокол SMTP.
* Всего 4,1 КБ занимаемой памяти и 0,6 КБ в ОЗУ.
* Поддержка клиентов.

### <a name="dhcp"></a>DHCP

* Протокол DHCP
* Всего 3,6–4,6 КБ занимаемой флэш-памяти, 2,7 КБ в ОЗУ.
* Поддержка клиентов и серверов.
* Поддержка IPv4 и IPv6.

### <a name="nat"></a>NAT

* Преобразование сетевых адресов (NAT)
* Всего 3,5 КБ занимаемой памяти и 0,6 КБ в ОЗУ.
* Поддержка IPv4-адресов.
* Преобразование сетевых адресов (NAT) доступно только с NetX Duo для ОСРВ Azure.

### <a name="snmp"></a>SNMP

* Протокол SNMP
* Всего 10,9 КБ занимаемой памяти и 2,6 КБ в ОЗУ.
* Поддержка версий 1, 2 и 3.

### <a name="dns-mdns-dns-sd"></a>DNS, mDNS, DNS-SD

* Служба доменных имен (DNS)
* Многоадресная служба доменных имен (mDNS).
* Обнаружение служб на основе DNS (DNS-SD).
* Всего 2,4–3 КБ занимаемой флэш-памяти и 1 КБ в ОЗУ для DNS.
* Поддержка клиентов.
* mDNS и DNS-SD доступны только с NetX Duo для ОСРВ Azure.

### <a name="pop3"></a>POP3

* Протокол Post Office Protocol версии 3 (POP3).
* Всего 8,1 КБ занимаемой памяти и 1,4 КБ в ОЗУ.
* Поддержка клиентов.

### <a name="telnet"></a>TELNET

* Всего 0,5 КБ занимаемой памяти и 0,3 КБ в ОЗУ.
* Поддержка клиентов и серверов.
* Интуитивно простые API Telnet: *nx_telnet_\** .

### <a name="ftp-tftp"></a>FTP, TFTP

* Протокол FTP.
* Протокол TFTP
* Всего 1,8–7,2 КБ занимаемой флэш-памяти и 0,6–2,1 КБ в ОЗУ для FTP.
* Всего 1,7–2,4 КБ занимаемой флэш-памяти и 0,3–1,8 КБ в ОЗУ для TFTP.
* Поддержка клиентов и серверов.
* Интуитивно простые API FTP и TFTP: *nx_ftp_\** или *nx_tftp_\** .

### <a name="ppp-pppoe"></a>PPP, PPPoE

* Протокол PPP.
* Протокол PPPoE.
* Всего 7,1 КБ занимаемой памяти и 3,8 КБ в ОЗУ.
* Интуитивно простые API PPP: *nx_ppp_\** .

* PPPoE доступен только с NetX Duo для ОСРВ Azure.

### <a name="sntp"></a>SNTP

* Простой протокол синхронизации времени по сети (SNTP).
* Всего 4 КБ занимаемой памяти и 0,5 КБ в ОЗУ.
* Поддержка клиентов.
* Интуитивно простые API SNTP: *nx_sntp_\** .

### <a name="legacy-code-support"></a>Поддержка устаревшего кода

* Опциональный уровень BSD для портирования старого кода сокетов.

### <a name="igmp"></a>IGMP

* протокол управления группами Интернета (IGMP)
* Всего 2,5 КБ занимаемой флэш-памяти.
* Поддержка групп многоадресной рассылки IPv4.
* Проверено IXIA IxANVL.
* Опциональная статистика IGMP.
* Трассировка на уровне системы через ОСРВ Azure ThreadX.
* Интуитивно простые API IGMP: *nx_igmp_\** .

### <a name="azure-rtos-netx-secure-dtls"></a>NetX Secure DTLS для ОСРВ Azure

* Протокол датаграмм безопасности транспортного уровня (DTLS) версий 1.0 и 1.2.
* Всего 11 КБ занимаемой флэш-памяти.
* Быстрое программное шифрование RSA с 2048-битным ключом занимает около 1 секунды при частоте @120MHz.
* Оптимизированная реализация X.509.
* Полная интеграция с сокетами UDP в NetX Duo для ОСРВ Azure.
* Поддержка аппаратного шифрования.
* Поддержка программного шифрования: RSA (с ключами любого размера), AES, DES/3DES, ECC, HMAC, MD5, SHA-1, SHA-2 (SHA-224, SHA-256, SHA-384, SHA-512).
* Шифрование на основе эллиптических кривых (ECC) с ECDSA (подписывание) и ECDH (шифрование), в том числе с P-кривыми с разрядностью в 192, 224, 256, 384 и 521 бит.
* Поддержка зашифрованных ключей (зависит от оборудования).

### <a name="azure-rtos-netx-secure-tls"></a>NetX Secure TLS для ОСРВ Azure

* Протокол TLS версий 1.0, 1.1 и 1.2.
* Всего 8,8 КБ занимаемой флэш-памяти.
* Быстрое программное шифрование RSA с 2048-битным ключом занимает около 1 секунды при частоте @120MHz.
* Оптимизированная реализация X.509.
* Полная интеграция с сокетами TCP в NetX Duo для ОСРВ Azure.
* Поддержка аппаратного шифрования.
* Поддержка программного шифрования: RSA (с ключами любого размера), AES, DES/3DES, ECC, HMAC, MD5, SHA-1, SHA-2 (SHA-224, SHA-256, SHA-384, SHA-512).
* Шифрование на основе эллиптических кривых (ECC) с ECDSA (подписывание) и ECDH (шифрование), в том числе с P-кривыми с разрядностью в 192, 224, 256, 384 и 521 бит.
* Поддержка зашифрованных ключей (зависит от оборудования).

### <a name="icmp"></a>ICMP

* Протокол межсетевых управляющих сообщений (ICMP).
* Всего 2,5 КБ занимаемой флэш-памяти.
* Поддержка IPv4 и IPv6.
* Проверено IXIA IxANVL.
* Запрос проверки связи и ответ на нее.
* Опциональная приостановка потока при запросах проверки связи.
* Опциональное время ожидания при всех приостановках.
* Опциональная статистика ICMP.
* Трассировка на уровне системы через TraceX для ОСРВ Azure.
* Интуитивно простые API ICMP: *nx_icmp_\** .

### <a name="udp"></a>UDP

* Протокол UDP.
* Всего 2,5 КБ занимаемой флэш-памяти, 124 байт в ОЗУ на сокет.
* Быстрая обработка пакетов TCP на уровне проводной сети:
    * RX на уровне 95 Мбит/с в сети Ethernet со скоростью 100 Мбит/с при частоте MCU @100MHz и использовании MCU на уровне 14 %.
    * TX на уровне 94 Мбит/с в сети Ethernet со скоростью 100 Мбит/с при частоте MCU @100MHz и использовании MCU на уровне 10 %.
* Технология UDP Fast Path™.
* Отсутствие ограничений на число UDP.
* Проверено IXIA IxANVL.
* Опциональная приостановка при получении на сокет.
* Опциональное время ожидания при всех приостановках.
* Опциональная статистика UDP.
* Трассировка на уровне системы через TraceX для ОСРВ Azure.
* Интуитивно простые API UDP: *nx_udp_\** .

### <a name="tcp"></a>TCP

* Протокол TCP.
* Всего 10,5–12,5 КБ занимаемой флэш-памяти, 280 байт в ОЗУ на сокет.
* Быстрая обработка пакетов TCP на уровне проводной сети:
    * RX на уровне 93 Мбит/с в сети Ethernet со скоростью 100 Мбит/с при частоте MCU @100MHz и использовании MCU на уровне 20 %.
    * TX на уровне 94 Мбит/с в сети Ethernet со скоростью 100 Мбит/с при частоте MCU @100MHz и использовании MCU на уровне 27 %.
* Надежное подключение.
* Отсутствие ограничений на число TCP-сокетов.
* Проверено IXIA IxANVL.
* Опциональная приостановка при получении или отправке на сокете.
* Опциональное время ожидания при всех приостановках.
* Опциональная статистика TCP.
* Трассировка на уровне системы через TraceX для ОСРВ Azure.
* Интуитивно простые API TCP: *nx_tcp_\** .

### <a name="arprarp"></a>ARP и RARP

* Протокол разрешения адресов (ARP).
* Обратный протокол разрешения адресов (RARP)
* Всего 1,7 КБ занимаемой флэш-памяти и ОЗУ.
* Динамическое разрешение 32-разрядных IPv4-адресов и 48-разрядных MAC-адресов.
* Проверено IXIA IxANVL.
* Гибкий кэш ARP, определяемый пользователем.
* Поддержка самообращенных запросов ARP.
* Опциональная статистика ARP и RARP, определяемая приложением.
* Трассировка на уровне системы через TraceX для ОСРВ Azure.
* Интуитивно простые API ARP и RARP: *nx_arp_\** , *nx_rarp_\** .

### <a name="ipv4-amp-ipv6"></a>IPv4 и IPv6

* Протокол IP.
* Всего 3,5–8,5 КБ занимаемой флэш-памяти, 2–3 КБ в ОЗУ.
* Архитектура Piconet™.
* Высокая производительность на уровне проводной сети.
* Поддержка нескольких интерфейсов.
* Поддержка многосетевых интерфейсов.
* Поддержка статической маршрутизации.
* Поддержка фрагментирования и повторной сборки пакетов IP.
* Поддержка IPv4- и IPv6-адресов.
* Проверено IXIA IxANVL.
* Сертификация по программе IPv6 Ready Logo Phase-2
* Опциональная статистика IP.
* Хорошо определенный, интуитивно простой интерфейс драйвера физического уровня.
* Трассировка на уровне системы через TraceX для ОСРВ Azure.
* Интуитивно простые API уровня IP: *nx_ip_\** , *nxd_ip_\** , *nxd_ipv6_\** .
* Предварительная сертификация TUV и UL на соответствие стандартам IEC 61508 SIL 4, IEC 62304 (класс C), ISO 26262 ASIL D и EN 50128 SW-SIL4.

### <a name="azure-rtos-netx-secure-ipsec"></a>Надежный протокол IPsec в NetX для ОСРВ Azure

* IPsec.
* Уровень IP.
* Поддержка аппаратного шифрования.
* Поддержка программного шифрования, в том числе следующего:
    * DES, 3DES;
    * AES
    * HMAC-MD5;
    * HMAC-SHA1.
* Поддержка протокола IKE версии 2.
* Интуитивно простые API IPsec: *nx_ipsec_\** .
* IPsec доступен только с NetX Duo для ОСРВ Azure.

## <a name="safe-and-secure"></a>Безопасность и защищенность

Стек NetX Duo для ОСРВ Azure защищен. Его безопасность обеспечивается с помощью подключаемых продуктов безопасности, в числе которых IPsec, SSL, TLS и DTLS. Кроме того, приложение полностью управляет всем внешним доступом к NetX Duo для ОСРВ Azure, что значительно упрощает определение рисков безопасности.

ОСРВ Azure от Майкрософт предоставляет изготовителям оборудования компоненты для безопасного обмена данными, а также создания кода и изоляции данных с помощью базовых аппаратных механизмов защиты, встроенных в микроконтроллеры и микропроцессоры. Ответственность за полное соответствие устройства меняющимся требованиям к безопасности в отношении отдельных вариантов использования в конечном итоге лежит на производителе устройства.

## <a name="interoperability-verification"></a>Подтвержденная совместимость

NetX Duo соответствует стандартам RFC и обеспечивает полную совместимость с устройствами большинства поставщиков.

![Логотип IPv6 Ready](./media/overview-netx-duo/ipv6-ready-logo.png)

NetX Duo для ОСРВ Azure — это единственный стек с внедренными протоколами TCP/IP, соответствующий строгим требованиям сертификации IPv6-Ready Logo. То есть он прошел все проверки на согласованность и совместимость, принятые и утвержденные организацией IPv6 Forum. NetX Duo также использует стандартную отраслевую библиотеку IxANVL для базовой реализации протокола TCP/IP в NetX Duo.

## <a name="comprehensive-iot-solution"></a>Комплексное решение Интернета вещей

NetX Duo предоставляет один из самых комплексных наборов сетевых функций с поддержкой TCP/IP для глубоко внедренных приложений. Такая поддержка включает следующие подключаемые протоколы:

* MQTT
* CoAP
* LWM2M
* 6LoWPAN
* SSL, TLS и DTLS;
* IPsec
* AutoIP
* DHCP
* DNS
* mDNS
* DNS-SD
* FTP
* HTTP
* IPsec
* NAT
* POP3
* PPP
* PPPoE
* SMTP
* SNMP v1/2/3
* Telnet
* TFTP

## <a name="advanced-technology"></a>Передовая технология

ОСРВ Azure NetX Duo — это передовая технология, включающая следующее:

* архитектура Piconet™;
* Автоматическое масштабирование
* технология UDP Fast-Path™;
* гибкое управление пакетами;
* API и реализация без копирования;
* поддержка многосетевых интерфейсов;
* опциональное время ожидания при всех приостановках;
* поддержка статической маршрутизации;
* IPsec
* SSL, TLS и DTLS;
* поддержка системного анализа TraceX для ОСРВ Azure.

## <a name="related-services"></a>Связанные службы

NetX Duo предоставляет следующие дополнительные службы:

* ПО промежуточного слоя Интернета вещей Azure;
* Azure Defender
* обновление устройств для Центра Интернета вещей.

### <a name="azure-iot-middleware"></a>ПО промежуточного слоя Интернета вещей Azure

NetX Duo включает [ПО промежуточного слоя Интернета вещей Azure для ОСРВ Azure](https://github.com/azure-rtos/netxduo/blob/master/addons/azure_iot/docs/README.md), библиотеку для конкретной платформы, которая выступает в качестве уровня привязки между ОСРВ Azure и пакетом SDK Azure для Embedded C для упрощения подключения к службам Интернета вещей Azure. Ниже указаны задачи ПО промежуточного слоя Интернета вещей Azure.
* Предоставьте интерфейсы интеллектуальных клиентов (IoTHub_Client, DeviceProvisioning_Client), требуемые разработчикам для приложений.
* Управляйте взаимодействием между пакетом SDK для Embedded C и платформой.
* Настройте инициализацию платформы ОСРВ Azure.
* Поддержка IoT Plug and Play.
* Возможности системы безопасности.
* Учитывается ограничение ресурсов.
* Поддержка протоколов.

![Связанные службы NetX Duo ОСРВ Azure](./media/overview-netx-duo/related-services.png)

### <a name="azure-defender"></a>Azure Defender

Модуль безопасности Azure Defender для Интернета вещей предоставляет комплексное решение для защиты устройств ОСРВ Azure. Модуль безопасности для ОСРВ Azure позволяет обнаруживать вредоносные действия в сети, настраивать базовое поведение устройств с учетом оповещений и помогает повысить уровень безопасности устройства. Узнайте больше о [модуле безопасности для ОСРВ Azure](https://docs.microsoft.com/azure/asc-for-iot/iot-security-azure-rtos) или изучите краткое руководство по [настройке модуля безопасности для ОСРВ Azure](https://docs.microsoft.com/azure/asc-for-iot/quickstart-azure-rtos-security-module).

### <a name="device-update-for-iot-hub"></a>Обновление устройств для Центра Интернета вещей

[Обновление устройств для Центра Интернета вещей Azure](https://docs.microsoft.com/azure/iot-hub-device-update/understand-device-update) — это служба, которая позволяет развертывать обновления на устройствах Интернета вещей по беспроводной сети. Модуль Обновления устройств для Центра Интернета вещей — это реализация обновления устройства для агента Центра Интернета вещей в NetX Duo ОСРВ Azure. Здесь представлены простые API для разработчиков устройств, позволяющие интегрировать возможности Обновления устройств в приложения.

Просмотрите примеры основных макетов полупроводниковых плат, которые включают руководства по началу работы с инструкциями по настройке, созданию и развертыванию обновлений для устройств по беспроводной сети.

Вы также можете получить дополнительные сведения о работе с [Обновлением устройств для Центра Интернета вещей с использованием ОСРВ Azure](https://docs.microsoft.com/azure/iot-hub-device-update/device-update-azure-real-time-operating-system).

## <a name="next-steps"></a>Дальнейшие действия

Чтобы узнать больше о NetX Duo, ознакомьтесь со статьей [Руководство пользователя по NetX Duo для ОСРВ Azure](about-this-guide.md).
