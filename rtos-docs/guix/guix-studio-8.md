---
title: Заметки о редактировании конкретных типов мини-приложений
description: Подробные комментарии, в которых описываются методы редактирования для определенных сложных типов мини-приложений.
author: jdeere5220
ms.author: kemaxwel
ms.date: 9/30/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: d57aa4034aaa6bbb3b29e79ba2b38443822ea5ce554b62af9e3c9ea874614488
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2021
ms.locfileid: "116785471"
---
# <a name="chapter-8-notes-on-editing-specific-widget-types"></a>Глава 8. Заметки о редактировании конкретных типов мини-приложений

GUIX Studio позволяет пользователю с легкостью создавать и изменять мини-приложения GUIX, которые будут составлять экраны пользовательского интерфейса приложения. Большинство этих методов редактирования интуитивно понятны и очевидны. Например, для изменения размера мини-приложения можно выбрать его с помощью мыши и необходимым образом перетащить его границы. Также вы можете напрямую ввести значения в поля свойств Left, Top, Width или Height для выбранного мини-приложения.

Для некоторых типов мини-приложений, реализующих поддержку более сложных функций, используется более сложный процесс редактирования.

В этой главе приводятся заметки по расширенным возможностям редактирования для таких более сложных типов мини-приложений. Эти заметки будут дополняться по мере использования функций GUIX Studio и типов мини-приложений, представленных в библиотеке GUIX.

## <a name="rich-text-view"></a>Представление форматированного текста

Это мини-приложение используется для отображения форматированного текста, поддерживающего встроенные коды форматирования. Эти коды форматирования могут определять полужирное, курсивное начертание и ряд других атрибутов текста. Для начала щелкните правой кнопкой мыши выбранный родительский элемент в *представлении проекта* или *целевом представлении* и выберите меню **Вставка/Текст/Представление форматированного текста**, чтобы вставить мини-приложение представления форматированного текста.

Помимо стандартного набора свойств, поддерживаемых всеми типами мини-приложений, мини-приложение представления форматированного текста поддерживает дополнительные свойства.

### <a name="additional-properties"></a>Дополнительные свойства

| Свойство | Значение |
|----------|---------|
| Выравнивание текста | Выравнивание текста по умолчанию |
| Обычный шрифт| Шрифт текста по умолчанию |
| Полужирный  | Шрифт текста с полужирным начертанием |
| Курсив| Шрифт текста с курсивным начертанием|
| Полужирный курсив| Шрифт текста с полужирным курсивным начертанием |
| Частная копия текста | Используется, если мини-приложение должно хранить собственную частную копию любого назначенного текста |
| Пробелы | Ширина поля между мини-приложением и отображаемым текстом в пикселях. |
| Междустрочный интервал | Интервал между двумя строками текста в пикселях. |
|||

### <a name="the-rich-text-formatting-codes"></a>Коды форматирования для форматированного текста

Поддерживаются следующие коды форматов для форматирования текста.

|Тег|Значение|
|---|---|
|\<b>\</b> | Отрисовка шрифта текста с помощью заданного пользователем идентификатора полужирного шрифта|
|\<i>\</i> | Отрисовка шрифта текста с помощью заданного пользователем идентификатора курсива|
|\<u>\</u> | Отрисовка подчеркнутого текста|
|\<f GX_FONT_ID>\</f> | Отрисовка текста с использованием указанного идентификатора шрифта. |
|\<c GX_COLOR_ID>\</c> | Отрисовка текста с использованием указанного идентификатора цвета|
|\<hc GX_COLOR_ID>\</hc> | Отрисовка текста с использованием указанного идентификатора цвета фона|
|\<align left/right/center>\</align> | Назначение выравнивания текста|
|||

В GUIX Studio можно редактировать строку форматированного текста двумя способами:

- С использованием диалогового окна "Правка форматированного текста" (самый простой и рекомендуемый способ).
- С использованием диалогового окна "Редактор таблицы строк", в котором можно вручную вставлять теги форматирования, описываемые в предыдущей таблице.

Выберите мини-приложение представления форматированного текста в *целевом представлении*, а затем нажмите кнопку **Правка форматированного текста** в *представлении свойств*, чтобы вызвать диалоговое окно редактирования форматированного текста, показанное на рис. 8.1.

![Снимок экрана: диалоговое окно "Правка форматированного текста" в GUIX Studio.](./media/guix-studio/edit_rich_text_dialog.png)

**Рис. 8.1**

В левой области представлено поле редактирования форматированного текста. Для вставки нужных тегов вы можете использовать значки на панели инструментов. Выделите любой фрагмент текста в поле редактирования, а затем с помощью соответствующих кнопок на панели инструментов примените к нему необходимые стили и цвета. В диалоговом окне "Правка форматированного текста" вы можете легко вставить коды форматирования в текстовую строку. Также вы можете вставлять эти теги вручную или даже создавать их во время выполнения, если это требуется.

В правой области находится мини-приложение предварительного просмотра, в котором демонстрируется, как текст будет отображаться в целевом представлении. В мини-приложении предварительного просмотра используется фиксированный цвет фона, который может не совпадать с заданным цветом фона мини-приложения в целевом представлении.

Идентификаторы ресурсов в форматированном тексте задают ссылки на определенные ресурсы шрифтов или цветов. Если имя ресурса шрифта или цвета было изменено после того, как в строке форматированного текста задана ссылка на него, GUIX Studio автоматически обновит строку форматированного текста в соответствии с этим изменением. С другой стороны, при удалении ресурса шрифта или цвета, на который ссылается мини-приложение форматированного текста, вам будет необходимо вручную отредактировать затронутый форматированный текст и удалить или изменить идентификаторы ресурсов, которые были удалены.

При нажатии кнопки "Сохранить" в этом диалоговом окне определенная в нем строка форматированного текста добавляется в таблицу строк проекта.

## <a name="string-scroll-wheel"></a>Строковое колесо прокрутки

Мини-приложение со строковым колесиком прокрутки поддерживает отображение массива строк. Эти строки могут назначаться динамически или, если приложение поддерживает несколько языков, извлекаться из активной таблицы строк.

Мини-приложение строкового колесика прокрутки поддерживает массив строк. Пользователь может назначить этот массив строк в диалоговом окне "Изменение строкового колесика прокрутки", показанном на рисунке 8.2.

![Снимок экрана: диалоговое окно "Изменение строкового колесика прокрутки" в GUIX Studio.](./media/guix-studio/string_scroll_wheel_edit.png)

**Рис. 8.2**

Чтобы вызвать это диалоговое окно, выберите мини-приложение строкового колесика прокрутки в *целевом представлении*  или *представлении проекта*. После выбора этого типа мини-приложения в *представлении свойств* будет доступна кнопка **Изменить строки**. Нажмите ее, чтобы вызвать диалоговое окно "Изменение строкового колесика прокрутки".

Чтобы назначить строку для каждого текстового индекса, можно выбрать идентификатор строки в раскрывающемся списке или ввести новое строковое значение в текстовое поле справа. После внесения изменений все новые или измененные строки сохраняются в активной таблице строк.

## <a name="sprite"></a>Спрайт

Мини-приложение спрайта используется для вывода последовательности изображений, позволяющей воспроизвести эффект анимации. Мини-приложение спрайта работает со списком кадров, который представляет собой массив идентификаторов изображений и уникальных параметров, применяемых к каждому изображению в кадре. Создать этот список кадров для мини-приложения спрайта можно в диалоговом окне "Изменение кадров спрайта", показанном на рис. 8.3:

![Снимок экрана: диалоговое окно "Изменение кадров спрайта" в GUIX Studio.](./media/guix-studio/edit_sprite_frames.png)

**Рис. 8.3**

Чтобы вызвать это диалоговое окно, выберите мини-приложение спрайта в *целевом представлении*  или *представлении проекта*. После выбора этого типа мини-приложения в *представлении свойств* будет доступна кнопка **Изменить список кадров**. Нажмите ее, чтобы вызвать диалоговое окно "Изменение строкового колесика прокрутки".

В поле *Общее число кадров спрайта* можно ввести целое число кадров, отображаемых мини-приложением спрайта. Изображения могут встречаться в списке кадров несколько раз, то есть они не обязательно должны быть уникальными.

Поле идентификатора кадра спрайта содержит индекс кадра, который находится в диапазоне от 1 до общего числа кадров. Для перехода между кадрами спрайта это значение необходимо увеличить или уменьшить.

Каждый кадр спрайта имеет несколько параметров. Первый из них — фоновая операция. Это поле позволяет имитировать возможности популярного формата анимации GIF. Ниже перечислены возможные варианты:

- Без операции. Изображение текущего кадра отрисовывается поверх предыдущего изображения кадра.
- Восстановить первую карту отображения пикселей. Перед текущей картой отображения пикселей отрисовывается карта для индекса 1.
- Сплошная заливка цветом. Перед отрисовкой текущего кадра фон спрайта заливается цветом фона спрайта.

В поле идентификатора карты отображения пикселей можно выбрать любую карту, ранее добавленную в ресурсы проекта. Одну и ту же карту отображения пикселей можно использовать для нескольких кадров. Например, для анимации спрайта можно использовать перемещение изображения (с помощью полей смещения по осям x и y) вместо различных изображений спрайта или в дополнение к ним.

Поле альфа-значения применяется ко всей карте отображения пикселей. Это поле применяется только при работе с глубиной цвета не менее 8 бит/пкс. Альфа-значение 0 определяет полную прозрачность, а 255 — полную непрозрачность.

Вы можете указать смещение внутри кадра спрайта, в котором текущая карта отображения пикселей будет отображаться с использованием значений в полях смещения по осям x и y. Иными словами, каждое отрисовываемое изображение не обязательно должно соответствовать размеру мини-приложения спрайта.

Значение периода задержки задает время задержки перед переходом к следующему кадру спрайта. Оно определяется в тактах, каждый из которых в конфигурации таймера GUIX/ThreadX по умолчанию равен 50 мс.

При сохранении изменений в диалоговом окне "Изменение кадров спрайта" GUIX Studio может создать массив с полным списком кадров в процессе создания выходного файла спецификаций.

### <a name="assign-a-sprite-widget-with-gif-resource"></a>Назначение мини-приложения спрайта с помощью ресурса GIF
Вы можете добавить ресурс GIF в группу ресурсов **Pixelmap** и назначить этот ресурс для мини-приложения спрайта напрямую. После настройки ресурса GIF будет автоматически создан список кадров. Вы сможете изменить любой кадр из списка в диалоговом окне редактирования спрайта:

![Снимок экрана: диалоговое окно изменения кадров спрайта в GUIX Studio для ресурса GIF.](./media/guix-studio/edit_sprite_gif_frames.jpg)

**Рисунок 8.4**