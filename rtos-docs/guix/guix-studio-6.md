---
title: Сгенерированный код GUIX Studio
description: После того как вы завершите редактирование экранов и ресурсов, GUIX Studio создаст набор выходных файлов, которые можно включить во встраиваемое приложение.
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: f8868ec770aa8f7f35d2866b99e3eb8f501281a8
ms.sourcegitcommit: e3d42e1f2920ec9cb002634b542bc20754f9544e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/22/2021
ms.locfileid: "104815472"
---
# <a name="chapter-6-guix-studio-generated-code"></a>Глава 6. Сгенерированный код GUIX Studio

После того как вы завершите редактирование экранов и ресурсов, GUIX Studio создаст набор выходных файлов, которые можно включить во встраиваемое приложение. Чтобы создать выходные файлы, выберите ***Создать файлы ресурсов** _ и _ *_Создать спецификации_** в меню "Проект". Создаваемые GUIX Studio файлы исходного кода языка C предназначены для компиляции и связывания с исходным кодом встраиваемого приложения. Если создается файл ресурсов в двоичном формате, его следует запрограммировать в области хранения в энергонезависимой памяти на целевом объекте, а для установки двоичных ресурсов во время выполнения следует использовать функцию gx_binres_theme_install в API GUIX.

Код встраиваемого приложения пользователя использует ссылки на код, созданный в GUIX Studio. Кроме того, созданный в GUIX Studio код ожидает, что все функции отрисовки, обработки событий и выделения памяти пользовательского мини-приложения, заданные в проекте, будут определены в коде встраиваемого приложения пользователя. Если это не так, при сборке приложения будут отображаться ошибки компоновки.

> [!NOTE]
> Пользователь не должен изменять код, созданный в GUIX Studio, или способствовать этому. Все изменения пользовательского интерфейса должны выполняться в соответствующем проекте GUIX Studio. Это позволит обеспечить синхронизацию проекта со встраиваемым приложением.

## <a name="generating-resource-files"></a>Создание файлов ресурсов

Создаваемые GUIX Studio файлы ресурсов содержат предварительно заданные структуры данных, которые определяют все ресурсы GUIX Studio (цвета, шрифты, карты отображения пикселей и строки), то есть фактически все ресурсы, определенные в ***представление ресурсов*** проекта. Эти файлы ресурсов могут создаваться в виде исходного кода или в двоичном формате.

По умолчанию создаются два файла: один из них представляет собой стандартный файл исходного кода C, а другой — файл заголовка C, в котором предоставляются внешние ссылки и константы, используемые в коде приложения для доступа к ресурсам GUIX, определенным в проекте. Эти файлы имеют имена следующего вида:

**{*project-name*}_resources.h**

**{*project-name*}_resources.c**

Ниже приводятся примеры файлов ресурсов, созданных для ***простого*** проекта GUIX Studio:

**simple_resources.h**

**simple_resources.c**

Чтобы создать файлы ресурсов, необходимо выбрать пункт ***Создать файлы ресурсов** _ в меню _*_Проект_*_. Место назначения файлов ресурсов задается в диалоговом окне _*_Настройка проекта_*_, доступ к которому можно получить с помощью параметра _*_Настройка проекта/отображения_*_ в пункте меню _ *_Настройка_**.

Для ресурса карты отображения пикселей или шрифта можно указать пользовательское имя выходного файла для каждой карты и каждого шрифта в связанных диалоговых окнах редактирования ресурсов. Это позволяет размещать очень большие ресурсы в отдельных файлах вместо общего выходного файла для всех ресурсов. Если для ресурса шрифта или карты отображения пикселей не указано пользовательское имя файла, он записывается в общий файл ресурсов.

Если вы предпочитаете использовать двоичные ресурсы, можно указать вывод данных в необработанном виде или в формате S-Record. Двоичные ресурсы не компилируются и не связываются с кодом приложения, а загружаются во время выполнения с помощью API gx_binres_them_load(). Эта служба API создает таблицы ресурсов, которые указывают на ресурсы, хранящиеся в энергонезависимой памяти. После этого можно установить такие ресурсы с определенными параметрами отображения с помощью функции gx_display_theme_install().

## <a name="generating-specification-code"></a>Создание кода спецификации

Создаваемые GUIX Studio файлы спецификаций, содержат весь код C для создания пользовательского интерфейса, разработанного в GUIX Studio. В этом коде также используются ссылки на файлы ресурсов, созданные для этого проекта. Код приложения пользователя будет вызывать этот код для фактического создания объектов пользовательского интерфейса, определенных в проекте. Кроме того, код приложения пользователя содержит все функции отрисовки, обработки событий и выделения памяти пользовательского мини-приложения, заданные в проекте. По умолчанию создаются два файла: один из них представляет собой стандартный файл исходного кода C, а другой — файл заголовка C, в котором предоставляются внешние ссылки и константы, используемые в коде приложения для доступа к спецификациям GUIX Studio. Эти файлы имеют имена следующего вида:

**{*project-name*}_specifications.h**

**{*project-name*}_specifications.c**

Ниже приводятся примеры файлов спецификаций, созданных для ***простого*** проекта GUIX Studio:

**simple_specifications.h**

**simple_specifications.c**

Чтобы создать файлы спецификаций, выберите пункт ***Создать файлы спецификации** _ в меню _*_Проект_*_. Место назначения файлов спецификаций задается в диалоговом окне _*_Настройка проекта_*_, доступ к которому можно получить с помощью параметра _*_Настройка проекта/отображения_*_ в пункте меню _ *_Настройка_**.

## <a name="integrating-with-user-code"></a>Интеграция с пользовательским кодом

Интеграция созданных GUIX Studio файлов ресурсов и спецификаций выполняется просто. Для этого достаточно выполнить следующие действия:

1. Скопируйте файлы ресурсов и спецификаций во внедренную среду сборки или предоставьте доступ к ним в этой среде с помощью параметров пути.
2. Добавьте все файлы ресурсов и спецификаций во внедренный проект интегрированной среды разработки или файл makefile.
3. Убедитесь, что код встраиваемого приложения вызывает необходимые функции для инициализации и создания пользовательского интерфейса, содержащиеся в файлах ресурсов и спецификаций.
4. Убедитесь, что код встраиваемого приложения содержит все необходимые функции отрисовки, обработки событий и выделения памяти пользовательского мини-приложения.
5. Выполните сборку приложения (компиляция и компоновка).
6. Запустите приложение!