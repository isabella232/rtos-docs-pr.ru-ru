---
title: Ресурсы GUIX Studio
description: GUIX Studio обеспечивает управление всеми ресурсами пользовательского интерфейса, которые приложение будет использовать для цветов, шрифтов, пиксельных карт и строк. В следующих разделах описано добавление, изменение и удаление ресурсов в структуре экрана пользовательского интерфейса.
author: philmea
ms.author: philmea
ms.date: 5/19/2020
ms.service: rtos
ms.topic: article
ms.openlocfilehash: dd694cb7d34df7ecae206c3dcaf7d75a20bd4bd4e26471bb94da4129897ef727
ms.sourcegitcommit: 93d716cf7e3d735b18246d659ec9ec7f82c336de
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/07/2021
ms.locfileid: "116786150"
---
# <a name="chapter-4-guix-studio-resources"></a>Глава 4. Ресурсы GUIX Studio

GUIX Studio обеспечивает управление всеми ресурсами пользовательского интерфейса, которые приложение будет использовать для цветов, шрифтов, пиксельных карт и строк. В следующих разделах описано добавление, изменение и удаление ресурсов в структуре экрана пользовательского интерфейса. 

Все управление ресурсами осуществляется в области ***Resource View** _ (Представление ресурсов) пользовательского интерфейса GUIX Studio, как показано ниже на _*_рис. 8_**.

![Снимок экрана: представление ресурсов GUIX Studio](./media/guix-studio/image38.jpg)

**Рис. 8**

## <a name="color-resources"></a>Цветовые ресурсы

Раздел ***Colors** _ (Цвета) области _*_Resource View_*_ (Представление ресурсов) позволяет управлять цветовыми ресурсами. Вы можете развернуть это представление, щелкнув поле _ *+* * в заголовке представления, в результате чего появляется представление, показанное на **_рис. 9_** ниже/

![Снимок экрана: раздел Colors (Цвета) представления ресурсов](./media/guix-studio/image_39.png)

**Рис. 9**

Цветовые ресурсы состоят из одного цвета или нескольких, каждый из которых имеет уникальное логическое имя. Например, на **рис. 9** логическое имя **CANVAS**, которое является идентификатором системного цвета для цвета заливки фона экрана, связано с физическим черным цветом. Этот цветовой ресурс используется каждый раз, когда приложение задает **GX_COLOR_ID_CANVAS** в качестве цвета в свойствах объекта.

Цветовая палитра, указывающая значение RGB для цвета, отображается слева, а за ней следует имя идентификатора цвета. Значение RGB, связанное с любым именем идентификатора, можно изменить в любое время. Невозможно изменить предварительно определенные имена идентификаторов системных цветов, так как они используются внутри библиотеки GUIX. Однако можно изменить любое из значений цвета. Изменение значения системного цвета является **глобальным**. Это означает, что любое мини-приложение, не имеющее определенного назначения цвета, будет использовать новое значение системного цвета.

Для пользовательских цветов, добавленных в тему, можно изменить как имя, так и значение.

Чтобы изменить цветовой ресурс, дважды щелкните его (или щелкните правой кнопкой мыши и выберите пункт в меню). Это действие открывает диалоговое окно определения цвета. В нем можно изменить цветовой ресурс в соответствии с потребностями пользовательского интерфейса приложения.На  ***рис. 10** _ показано диалоговое окно изменения, отображаемое при двойном щелчке элемента _ *CANVAS**. Внешний вид этого диалогового окна будет меняться в зависимости от параметров цветового формата целевого дисплея.

![Снимок экрана: диалоговое окно Edit Color (Изменение цвета)](./media/guix-studio/edit_color.png)

**Рис. 10**

Внешний вид диалогового окна Edit Color (Изменение цвета) будет изменяться в зависимости от конфигурации глубины цветов и цветового формата текущего дисплея.

Чтобы добавить новый цветовой ресурс, в разделе ***Colors** _ (Цвета) области _ *_Resource View_** (Представление ресурсов) нажмите следующую кнопку.

![Кнопка Add New Color (Добавить новый цвет)](./media/guix-studio/image41.jpg)

Используйте появившееся диалоговое окно цвета, чтобы добавить новый цветовой ресурс, как показано ниже на ***рис. 11***.

![Снимок экрана: новый цвет в диалоговом окне Edit Color (Изменение цвета)](./media/guix-studio/new_color.png)

**Рис. 11**

После выполнения этих действий и нажатия кнопки **Save** (Сохранить) в приложении для использования будет доступен новый цветовой ресурс с именем **NEW_COLOR** и физическим зеленым цветом.

**При изменении параметров цветового формата дисплея необходимо учитывать следующие особенности.**

При создании проекта автоматически выводится запрос на настройку его дисплеев и цветового формата каждого из них. Чаще всего эти параметры настраиваются один раз, после чего изменять их не потребуется.

Вы можете выяснить, что параметры цветового формата дисплея потребуется изменить позже. В этом случае GUIX Studio позволит оптимальным образом преобразовать текущие значения RGB для системных и пользовательских цветов из старого формата в новый. Это преобразование следует нескольким логическим правилам.

Для определяемых пользователем цветов GUIX Studio всегда пытается преобразовать предыдущий цвет в ближайший соответствующий цвет в новом цветовом формате. При преобразовании из высокой глубины цвета, например цветового формата 5:6:5 16 бит/пкс, в цветовой формат оттенков серого или монохромный такое изменение может привести к нежелательным преобразованиям цвета. При внесении значительного изменения в параметры глубины цвета дисплея может потребоваться вручную выполнить некоторые изменения для новой таблицы цветов, определяемых пользователем.

Для предварительно определенных системных цветов GUIX Studio внутренним образом определяет три уникальные таблицы цветов по умолчанию. Одна таблица цветов по умолчанию используется для всех значений глубины цвета, превышающих 4 бит/пкс в оттенках серого, вторая — для цветовых форматов в оттенках серого (1 бит/пкс < display_color_format <= 4 бит/пкс), и, наконец, для монохромного цветового формата используется третья таблица цветов по умолчанию.

При переключении цветового формата дисплея с помощью диалогового окна Project Configuration (Конфигурация проекта) применяются следующие правила.

1) Если старый и новый цветовые форматы дисплея используют разные системные таблицы цветов по умолчанию, как было указано выше, все системные цвета сбрасываются до предварительно определенных цветов по умолчанию. Иными словами, при переключении с цветного представления на оттенки или с оттенков серого на монохромную глубину цвета системные цвета будут сброшены на внутренние значения по умолчанию для новой глубины цвета. Хотя это может привести к потере некоторых пользовательских сведений о цвете, такое решение дает вам приемлемую отправную точку, когда вы вносите значительные изменения в параметры цветового формата дисплея.

2) Если в старом и новом цветовых форматах используется одна таблица цветов по умолчанию (то есть цветовой формат меняется не так кардинально), GUIX Studio проверит каждый системный цвет, чтобы определить, изменилось ли значение RGB системного цвета по сравнению со значением по умолчанию. Если значение RGB системного цвета было изменено, GUIX Studio выполнит оптимальное преобразование из старого цветового формата в новый. Если системный цвет не был изменен, он будет сброшен в цвет по умолчанию для нового цветового формата.

**Особые рекомендации для работы в режиме палитры**

Если для проекта настроен цветовой формат с режимом палитры из 256 цветов, пользователь может указать, как эта палитра определяется и используется. Вы можете получить доступ к определению палитры и изменить его с помощью команды диалогового окна Configure | Themes (Настройка | Темы), а если для проекта задано значение 8 бит/пкс, появится кнопка Edit Palette (Изменить палитру). Нажмите эту кнопку, чтобы открыть диалоговое окно Edit Palette (Изменение палитры).

![Снимок экрана: диалоговое окно Edit Palette (Изменение палитры)](./media/guix-studio/edit_palette.png)

GUIX Studio разделяет палитру на два раздела: "определяемый пользователем" и "автоматически созданный". GUIX Studio использует сложный алгоритм формирования оптимальной палитры, чтобы создать наилучшую палитру для отображения изображений, включенных в каждую тему. Вы можете выделить любое количество элементов палитры, которое необходимо определить, введя число в поле Predefined Palette Entries (Предопределенные элементы палитры), и ввести любое значение RGB для любого из этих слотов. Оставшиеся слоты будут выделены для Studio в целях создания оптимальной цветовой палитры для отображения изображений.

Если при работе в этом режиме требуется изменить цвет, определенный в представлении ресурсов, редактор цветов позволит выбрать только предопределенные элементы палитры, которые вы задали. Это связано с тем, что остальные элементы палитры создаются автоматически средой GUIX Studio и изменяются по мере изменения изображений, добавленных в проект.

Если требуется отображать шрифты со сглаживанием при работе в режиме палитры 8 бит/пкс, необходимо определить массив элементов палитры, который создает градиент для каждого цвета переднего плана и фона, используемого для вывода сглаженного текста. Можно использовать или 8 элементов палитры для градиента для каждого сочетания цветов, или 16 элементов палитры для более гладкого градиента. Это число используемых элементов палитры определяется параметром Number of Palette Mode Anti-Aliased Text Colors (Число цветов для сглаженного текста в режиме палитры) в диалоговом окне Project Configuration (Конфигурация проекта). Вы можете использовать градиент всего с 8 элементами, чтобы минимизировать число элементов палитры, используемых для каждого сочетания цветов, или использовать градиенты из 16 элементов для обеспечения наиболее плавного внешнего вида сглаженного текста.

Чтобы упростить определение цветового градиента для отображения сглаженного текста или создать собственный цветовой градиент, в диалоговом окне Edit Palette (Изменение палитры) доступна кнопка Generate Gradient (Создать градиент). Чтобы использовать эту функцию, необходимо сначала назначить значения r:g:b (красный, зеленый, синий) для начальных и конечных цветов градиента.

Например, если вы хотите отобразить красный сглаженный текст на средне-сером фоне, используя 8 элементов палитры и начиная с индекса 50, следует присвоить значение r:g:b, равное 255:0:0, для индекса палитры 50 и значение r:g:b, равное 128:128:128, для индекса палитры 57. Введите эти значения индекса палитры в поля начального и конечного индексов в этом диалоговом окне и нажмите кнопку Generate Gradient (Создать градиент). Будут инициализированы элементы палитры с 51 по 56, чтобы определить плавный переход по градиенту между пограничными цветами.

## <a name="font-resources"></a>Ресурсы шрифтов

Чтобы управлять ресурсами шрифтов, необходимо сначала развернуть раздел ***Fonts** _ (Шрифты) области _*_Resource View_*_ (Представление ресурсов), щелкнув поле _ *+* *, после чего откроется диалоговое окно, показанное на **_рис. 12_** ниже.

![Снимок экрана: раздел Fonts (Шрифты) в представлении ресурсов](./media/guix-studio/image44.jpg)

**Рис. 12**

Ресурсы шрифтов состоят из одного шрифта или нескольких, каждый из которых имеет уникальное логическое имя. Например, на **рис. 12** логическое имя **SYSTEM** связано с конкретным шрифтом. Этот ресурс шрифта используется каждый раз, когда приложение задает **SYSTEM** в качестве шрифта в свойствах объекта. В группе шрифтов отображается область предварительного просмотра глифов шрифтов в режиме WYSIWYG (слева), высота шрифта в пикселях, имя идентификатора шрифта и размер шрифта (в килобайтах).

В приведенном выше представлении первые четыре шрифта являются предопределенными шрифтами по умолчанию, необходимыми для библиотеки GUIX. Вы можете изменить данные шрифта, связанные с этими шрифтами, однако эти имена идентификаторов шрифтов изменить невозможно.

Последний из приведенных выше шрифтов с именем Italic — это пользовательский шрифт, который пользователь добавил в проект.

Чтобы изменить ресурс шрифта, дважды щелкните его (или щелкните правой кнопкой мыши и выберите пункт в меню). В этом диалоговом окне можно изменить ресурс шрифта в соответствии с потребностями пользовательского интерфейса приложения.На  ***рис. 13** _ показано диалоговое окно изменения, отображаемое при двойном щелчке элемента _ *SYSTEM**.

[Снимок экрана: диалоговое окно изменения, отображаемое при двойном щелчке элемента SYSTEM](./media/guix-studio/edit_system_font.png)

**Рис. 13**

Чтобы добавить новый ресурс шрифта, в разделе ***Fonts** _ (Шрифты) области _ *_Resource View_** (Представление ресурсов) нажмите следующую кнопку.

![Кнопка Add New Font (Добавить новый шрифт)](./media/guix-studio/image46.jpg)

Это приведет к открытию диалогового окна `Font Edit` для добавления нового ресурса шрифта, как показано на ***рис. 14*** ниже.

![Снимок экрана: диалоговое окно изменения для добавления нового ресурса шрифта](./media/guix-studio/add_new_font.png)

**Рис. 14**

Новые шрифты GUIX создаются GUIX Studio посредством отрисовки выбранного шрифта TrueType в определенном размере. Поэтому в предыдущем диалоговом окне первым требуется указать путь к шрифту TrueType. С помощью кнопки Browse (Обзор) можно перейти к каталогу, содержащему файлы шрифтов в системе разработки. Несколько шрифтов TrueType также находятся во вложенной папке GUIX/fonts в расположении установки GUIX Studio.

Если возможно, расположение файла шрифта TrueType сохраняется с использованием относительного пути проекта. По этой причине важно размещать все файлы шрифтов в общем расположении и использовать общую структуру дерева каталогов для проектов и файлов шрифтов, чтобы вы могли перемещать проекты GUIX Studio с одной станции разработки на другую.

Поле Font Name (Имя шрифта) позволяет указать имя идентификатора ресурса шрифта. Это идентификатор ресурса, который будет использоваться в коде, созданном GUIX Studio, и приложением при ссылке на этот шрифт. Это имя должно соответствовать требованиям к синтаксису именования переменных C.

После выбора файла шрифта TrueType, используемого в качестве входных данных, введите логическое имя шрифта.

Флажок **Generate Kerning Info** (Создать сведения о кернинге) указывает GUIX Studio включить в создаваемый шрифт сведения о кернинге, что используется для корректировки относительного положения последовательных глифов в строке. Если вы хотите применить кернинг к строкам, нужно использовать шрифт, содержащий сведения о кернинге, и установить этот флажок. Кроме того, потребуется определить параметр сборки библиотеки GUIX GX_FONT_KERNING_SUPPORT для поддержки отрисовки текста со сведениями о кернинге.

Флажок **Include character set defined by String Table** (Включить набор символов, определяемый таблицей строк) предписывает GUIX Studio включить глифы, на которые ссылается статическая таблица строк, в создаваемый шрифт. Вы можете включить дополнительные глифы, выбрав и отредактировав приведенные ниже диапазоны символов, но этот параметр можно выбрать для быстрого создания минимального набора символов, необходимого для вывода строк, определенных в таблице строк. Конечно, если в таблице строк используются глифы, отсутствующие в исходном шрифте TrueType, эти символы не будут доступны в шрифте GUIX и не будут отображаться в целевой системе.

Чтобы создать более полный шрифт или шрифт, содержащий символы, которые невозможно использовать в статической таблице строк, можно также выбрать диапазоны символов в приведенном ниже списке. Обратите внимание, что можно выбрать любое количество диапазонов символов и изменить фактический начальный и конечный код, который будет включен в каждый выбранный диапазон.

Предварительно определенные диапазоны символов и имена страниц — это просто предложенные варианты, позволяющие легко выбрать набор символов, необходимый для используемых в настоящее время языков. Указанные имена языков никак не влияют на создаваемый шрифт GUIX, и вы можете ввести любой диапазон шестнадцатеричных символов для любого разрешенного или выбранного диапазона символов.

Например, если вы хотите создать шрифт, содержащий только цифры, можно выбрать кодовую страницу Ascii, но ввести начальное значение 0030 и конечное значение 0039. Обратите внимание, что значения диапазона символов кодируются в шестнадцатеричном формате, что является нормальной нотацией для таблиц символов Юникода.

По умолчанию GUIX Studio и библиотека GUIX поддерживают коды символов с 0x0000 по 0xffff, охватывающие все общеупотребимые языки, математические формы и другие символы, используемые в настоящее время. Если требуется использовать коды символов выше значения 0xffff, включая некоторые области для частного использования, необходимо установить флажок Support Extended Character Range (Поддерживать расширенный диапазон символов). Если этот флажок установлен, GUIX Studio позволяет пользователю указать диапазоны символов с 0x0000 по 0x10ffff, что включает в себя диапазоны символов для частного использования Юникода. Если вам требуется этот расширенный диапазон символов, необходимо также определить параметр сборки библиотеки GUIX GX_EXTENDED_UNICODE_SUPPORT, чтобы библиотека GUIX могла внутренне поддерживать 32-разрядные коды символов вместо конфигурации по умолчанию, поддерживающей 16-разрядные коды символов.

Если установить флажок Include character set defined by String Table (Включить набор символов, определяемый таблицей строк) и выбрать один диапазон символов или несколько в приведенном ниже списке, GUIX Studio объединит все это в надмножество из выбранных диапазонов и символов, используемых в таблице строк. Конечно, выбранный исходный шрифт TrueType также должен содержать необходимые символы, чтобы среда GUIX Studio могла создавать значащие глифы для каждого запрошенного значения символа.

После определения диапазона символов укажите высоту шрифта в пикселях и формат шрифта. Поддерживаются как сглаженные, так и двоичные шрифты. Двоичные шрифты требуют меньше места для хранения статических данных, однако сглаженные шрифты обеспечивают наилучший внешний вид для целевых систем с глубиной цвета в оттенках серого 4 бит/пкс или более высокой.

>[!NOTE]  
> *"Высота шрифта" относится к его кегельной площадке. В традиционном шрифте из металлических литер кегельная площадка была равна высоте строки металлической литеры, от которой приподнималась каждая буква, а все металлические литеры имели одинаковый размер. В цифровом шрифте кегельная площадка представляет собой сетку произвольного разрешения, которая используется в качестве пространства проектирования цифрового шрифта. Для этих цифровых шрифтов часто бывает, что некоторые особенности глифов, например знаки повышения и понижения интонации, могут выходить за пределы кегельной площадки. Конечным результатом является то, что высота мини-приложения, необходимая для полного отображения определенного шрифта, часто должна быть немного больше, чем требуемая высота шрифта в пикселях.*

После заполнения всех полей конфигурации шрифта нажмите кнопку OK, чтобы создать ресурс шрифта. GUIX Studio создаст совместимый с GUIX шрифт с выбранными свойствами, добавит его в ресурсы проекта и сделает доступным для использования приложением.

## <a name="pixel-map-resources"></a>Ресурсы пиксельных карт

Чтобы управлять ресурсами пиксельных карт, необходимо сначала развернуть раздел ***Pixel-maps** _ (Пиксельные карты) области _*_Resource View_*_ (Представление ресурсов), щелкнув поле _ *+* *, после чего откроется диалоговое окно, показанное на **_рис. 15_** ниже.

Развернув группу `Pixelmap`, вы увидите область предварительного просмотра следующего вида.

![Снимок экрана: раздел Pixel-maps (Пиксельные карты) в представлении ресурсов](./media/guix-studio/pixelmap_view.png)

**Рис. 15**

Ресурсы пиксельных карт состоят из одной пиксельной карты или нескольких, для каждой из которых отображается область предварительного просмотра (слева), размеры пиксельной карты (в пикселях), уникальное логическое имя и размер, занимаемый пиксельной картой в выходном файле ресурсов (в килобайтах).

Первая группа пиксельных карт включает предварительно определенные системные пиксельные карты, необходимые для мини-приложений GUIX, таких как переключатели и флажки. Вы можете изменить данные пиксельной карты, связанные с этими пиксельными картами, однако эти имена идентификаторов пиксельных карт изменить невозможно. Кроме того, вы приведено несколько пользовательских пиксельных карт с такими именами, как BACKGROUND и BUTTON_ACTIVE. Это примеры пиксельных карт, добавленных пользователем в проект, которые могут использоваться для отрисовки мини-приложения GX_PIXELMAP_BUTTON.

Так как многие проекты содержат большое количество пиксельных карт, представление пиксельных карт позволяет определить любое количество папок для упорядочения изображений пиксельных карт. 

Чтобы добавить новую папку пиксельной карты, щелкните правой кнопкой мыши заголовок раздела `Pixelmaps` (Пиксельные карты) в области ***Resource View*** (Представление ресурсов) и выберите Add Folder (Добавить папку).

Чтобы изменить ресурс пиксельной карты, дважды щелкните его (или щелкните правой кнопкой мыши и выберите пункт в меню). В этом диалоговом окне можно изменить ресурс пиксельной карты в соответствии с потребностями пользовательского интерфейса приложения.На  ***рис. 16** _ показано диалоговое окно изменения, отображаемое при двойном щелчке элемента _ *RADIO_ON**.

![Снимок экрана: диалоговое окно Edit Pixel-maps (Изменение пиксельных карт)](./media/guix-studio/image49.jpg)

**Рис. 16**

Диалоговое окно `Edit Pixelmap` (Изменение пиксельной карты) позволяет определить новую пиксельную карту или изменить содержимое существующей. В фоновом режиме GUIX Studio считывает входное изображение и преобразует его в формат `GUIX GX_PIXELMAP`, который может использовать библиотека GUIX. GUIX Studio также преобразует цветовое пространство входящего изображения в цветовое пространство дисплея, на котором будет использоваться эта пиксельная карта.

Первое поле в этом диалоговом окне — это путь к исходному изображению. GUIX Studio поддерживает входные файлы изображений в формате PNG (PNG-файлы) или JPEG (JPG-файлы). Вы можете нажать кнопку Browse (Обзор), чтобы найти нужный входной файл в локальной файловой системе.

Если возможно, расположение файла входного изображения сохраняется с использованием относительного пути проекта. По этой причине важно размещать все файлы изображений в общем расположении и использовать общую структуру дерева каталогов для проектов и файлов изображений, чтобы вы могли перемещать проекты GUIX Studio с одной станции разработки на другую и не потерять данные входного изображения

Поля `Pixelmap ID` (Идентификатор пиксельной карты) позволяют указать логическое имя ресурса пиксельной карты. Введенное здесь имя должно быть уникальным и соответствовать правилам синтаксиса именования переменных C.

Флажок Specify Output File (Указать выходной файл) позволяет указать уникальный выходной файл для каждой пиксельной карты. Если этот флажок не установлен, данные пиксельной карты записываются в файл ресурсов по умолчанию для этого дисплея. Если флажок установлен, можно ввести имя файла, куда будут записываться данные для этой пиксельной карты. Этот параметр позволяет разделить данные пиксельной карты, которые могут представлять собой очень большие массивы C, на несколько выходных файлов. Некоторые компиляторы испытывают трудности при обработке файлов C, содержащих сотни тысяч исходных строк.

Флажок Compress Output (Сжимать выходные данные) позволяет указать, используется ли в выходных данных пиксельной карты частный алгоритм сжатия GUIX. Сжатые выходные файлы обычно меньше, но они также нуждаются в затратах процессорного времени для отрисовки на целевой системе. Чаще всего следует выбирать сжатие для крупных пиксельных карт, а для небольших — использовать формат без сжатия.

Флажок `Include Alpha Channel` (Включить альфа-канал) определяет, как GUIX Studio использует сведения о альфа-канале, которые иногда присутствуют во входных файлах формата PNG. Если этот флажок установлен, а дисплей работает с глубиной цвета 16 бит/пкс или выше, GUIX Studio сохранит все входящие данные альфа-канала в выходном файле. Если этот флажок не установлен, GUIX создает выходной файл немного меньшего размера. Этот выходной файл может включать данные о прозрачности, но не будет содержать полные сведения об альфа-смешении.

Флажок `Dither` (Сглаживание) предписывает GUIX Studio применить расширенный алгоритм сглаживания при преобразовании входного изображения для использования дисплеем с пониженной глубиной цвета. Сглаживание обычно включено, но может привести к увеличению размера выходных файлов, если используется сжатие, так как повторяющихся пикселей будет меньше.

Задав все параметры нужным образом, нажмите кнопку OK, чтобы создать новый ресурс пиксельной карты. GUIX Studio считает входной файл изображения, распакует его, выполнит преобразование цветового пространства и применит сглаживание, при необходимости повторно сожмет данные и сохранит данные в формате `GX_PIXELMAP`, совместимом с GUIX. Новая пиксельная карта добавляется в ресурсы проекта и становится доступной для использования приложением.

Чтобы добавить новый ресурс пиксельной карты, в разделе `Pixelmaps` (Пиксельные карты) области ***Resource View*** (Представление ресурсов) нажмите следующую кнопку.

![Кнопка Add New Pixel-map (Добавить новую пиксельную карту)](./media/guix-studio/image50.jpg)

**Пакетное изменение пиксельных карт**

Чтобы изменить свойства набора пиксельных карт, щелкните правой кнопкой мыши группу или папку пиксельных карт и выберите пункт **Edit Pixelmap(s)** (Изменить пиксельные карты), чтобы вызвать диалоговое окно **Edit Pixelmap(s)** (Изменение пиксельных карт).

![Снимок экрана: диалоговое окно Edit Multi Pixel-maps (Изменение нескольких пиксельных карт)](./media/guix-studio/batch_pixelmap_edit.jpg)

Описание состояния флажка

![Установленный флажок.](./media/guix-studio/checkbox_checked.jpg)
Это состояние означает, что свойство установлено для всех пиксельных карт. Вы можете снять флажок, чтобы изменить свойство для всех пиксельных карт.

![Снятый флажок.](./media/guix-studio/checkbox_unchecked.jpg)
Это состояние означает, что свойство не установлено для всех пиксельных карт. Вы можете установить флажок, чтобы изменить свойство для всех пиксельных карт.

![Неопределенная кнопка.](./media/guix-studio/checkbox_undetermined.jpg)
Это состояние означает, что пиксельные карты имеют другое состояние для свойства. Вы можете установить или снять флажок, чтобы изменить свойство для всех пиксельных карт, в противном случае свойство останется неизменным.


## <a name="string-resources"></a>Строковые ресурсы

Развернув группу Strings (Строки), вы увидите область предварительного просмотра таблицы строк проекта, как показано ниже.

![Снимок экрана: развернутая группа Strings (Строки).](./media/guix-studio/string_res_view.png)

**Рис. 17**

Строковые ресурсы состоят из одной строки или нескольких, каждая из которых имеет уникальное логическое имя. Например, на **рис. 17** логическое имя PATIENT_LIST связано со строкой Patient List (Список пациентов), которая отображается справа. Этот строковый ресурс используется каждый раз, когда приложение задает PATIENT_LIST в качестве строки в свойствах объекта.

Не забывайте, что имена идентификаторов для всех типов ресурсов должны быть именами переменных, соответствующими синтаксису C. Эти имена будут широко применяться при создании спецификаций и файлов ресурсов проекта в Studio.

Чтобы изменить строковый ресурс, дважды щелкните его (или щелкните правой кнопкой мыши и выберите пункт в меню) для открытия диалогового окна ***String Table Editor** _ (Редактор таблиц строк). В диалоговом окне _*_String Table Editor_*_ (Редактор таблиц строк) строковый ресурс можно изменить в соответствии с потребностями пользовательского интерфейса приложения. На _*_рис. 18_*_ показано диалоговое окно изменения, отображаемое при двойном щелчке элемента _ *STRING_13**.

В этом случае имя идентификатора строки отображается слева, а содержимое строки для первого или эталонного языка — справа. Конечно, точное содержимое строки сильно зависит от вашего приложения, однако структура предварительного просмотра группы строк является согласованной.

GUIX Studio поддерживает многоязычное приложение со статическим текстом, определяя и ведя таблицу строк. Таблица строк определяет один идентификатор строки для каждой записи и одну строковую константу для каждой записи для каждого поддерживаемого языка.

Языки, поддерживаемые приложением, определяются в диалоговом окне настройки языков, которое показано ниже.

![Снимок экрана: диалоговое окно настройки языков](./media/guix-studio/config_languages.png)

**Рис. 18**

Диалоговое окно настройки языков вызывается с помощью команды Configure | Languages (Настройка | Языки) в меню приложения. Это диалоговое окно позволяет определить число языков, поддерживаемых приложением, а также имя или идентификатор языка, которые будут связаны с каждым языком. Поддерживаемые языки можно изменить после создания проекта, однако при удалении языка следует учитывать, что связанные с ним строковые данные также удаляются и не могут быть извлечены.

Флажок **Statically Defined** (Определен статически) указывает, что выбранный язык будет статически определен в формате исходного кода в созданном файле ресурсов. Если статически определенные языки отсутствуют, указатель на таблицу языка в создаваемой таблице отображения будет иметь значение NULL, а язык должен быть загружен и установлен приложением с помощью API-интерфейсов загрузчика двоичных ресурсов, предоставляемых библиотекой GUIX.

Флажок **Support Bidi Text** (Поддержка двунаправленного текста) предписывает GUIX Studio включить поддержку двунаправленной отрисовки текста. Этот флажок следует включить, если для строк, которые вы будете вводить для этого языка, требуется двунаправленная отрисовка текста.

Флажок **Generate Bidi Text in Display Order** (Формировать двунаправленный текст в порядке отображения) предписывает GUIX Studio создавать двунаправленный текст в выходном файле в порядке его отображения. Если этот параметр выбран, для правильной отрисовки двунаправленного текста в библиотеке GUIX не требуется обработка во время выполнения. При выборе этого параметра НЕ следует включать отрисовку двунаправленного текста в библиотеке GUIX. Эта конфигурация обеспечивает наилучшую производительность среды выполнения, но не поддерживает отрисовку динамически определяемых двунаправленных текстовых строк.

Первый язык, или язык с индексом 1, называется эталонным. GUIX Studio будет использовать его, когда вы определяете и изменяете дизайн пользовательского интерфейса. Все остальные языки в таблице строк называются языками перевода. GUIX Studio поддерживает экспорт и импорт данных таблицы строк в файлах данных формата XLIFF или CSV, соответствующего отраслевому стандарту, что удобно для обмена строками с переводчиками, которые могут помочь разработчику приложения, добавляя переводы для поддерживаемых языков помимо эталонного. При экспорте таблицы строк GUIX в файл XLIFF или CSV эталонный язык и один язык перевода включаются в файл обмена строковыми данными в формате XLIFF или CSV. Аналогичным образом, при импорте файла XLIFF или CSV импортированные данные используются для заполнения одного языка перевода в таблице строк GUIX.

![Снимок экрана: редактор таблиц строк](./media/guix-studio/image53.jpg)

**Рис. 19**

В диалоговом окне String Table Editor (Редактор таблиц строк) сначала отображается список идентификаторов строк (слева), за которым следуют строковые данные эталонного языка. Если определено более одного языка, в третьем столбце отображается один из поддерживаемых языков перевода. Третий столбец можно открыть и закрыть, щелкнув небольшую стрелку в правом верхнем углу столбца эталонного языка.

Когда столбец языка перевода виден, вы можете циклически переходить по языкам перевода, содержащимся в проекте, щелкая небольшие стрелки в правом верхнем углу столбца языка перевода в списке строк.

Вы можете изменить запись строки, щелкнув ее в таблице для выбора. После выбора записи идентификатор строки и содержимое строки для записи отображаются в полях под представлением таблицы. В эти поля можно ввести новые значения, чтобы изменить идентификатор строки и содержимое строки.

Область в правой части представления таблицы содержит предварительный просмотр мини-приложений, которые ссылаются на выбранную строку. Это позволяет удобно определить, выходит ли измененная строка за область определенного мини-приложения.

Справа от содержимого строки находятся следующие поля.

- Number of references (Число ссылок): это поле указывает, как часто конкретный идентификатор строки используется в проекте GUIX Studio. Если счетчик ссылок равен 0, эта строка может оказаться устаревшей и при необходимости может быть удалена пользователем.
- Поле String Width (pixels) (Ширина строки [в пикселях]) указывает ширину строки при использовании указанного шрифта.
- Notes (Примечания) — это необязательное поле комментария, которое позволяет добавлять сведения о назначении или использовании каждой строки. Эти примечания включаются во все экспортируемые файлы данных в формате XLIFF, чтобы помочь переводчикам сделать точный и осмысленный перевод строк.

Когда открыто диалоговое окно ***String Table Editor*** (Редактор таблиц строк), вы можете добавить в проект дополнительные строки, нажав кнопку Add String (Добавить строку) в верхней части диалогового окна. Устаревшие или неиспользуемые строки можно удалить из проекта, выбрав строку, а затем нажав кнопку Delete String (Удалить строку) в верхней части диалогового окна.

Кроме ручного добавления новых строк в проект с помощью диалогового окна String Table Editor (Редактор таблиц строк), новые строки можно добавлять и косвенно, просто вводя содержимое строки в поле Text (Текст) представления свойств любого мини-приложения, поддерживающего текст. Иными словами, при добавлении новых мини-приложений в целевое представление или вводе текстовых данных в представлении свойств эти действия автоматически создают записи в таблице строк проекта.

## <a name="adding-language-translations"></a>Добавление переводов с одного языка на другой

Редактор таблиц строк GUIX Studio поддерживает рабочий процесс определения языка, позволяющий разработчику создавать приложение с использованием своего основного языка, а затем экспортировать строковые данные в стандартный файл схемы XML или CSV для отправки профессиональному переводчику. Затем файл перевода возвращается разработчику, который может импортировать переводы обратно в свой проект Studio, тем самым добавляя в приложение поддержку нового языка.

Эта функция вызывается с помощью кнопок Export (Экспорт) (для записи строковых данных в файл) и Import (Импорт) (для считывания переведенных строк) в верхней части редактора таблиц строк. Кнопка Export (Экспорт) используется для создания CSV- или XML-файла схемы XLIFF, содержащего строки на эталонном языке. Этот файл может использоваться переводчиком, работающим со средствами и редакторами, поддерживающими стандартный формат XLIFF- или CSV-файла.

Когда переводчик возвращает XLIFF-файл с новыми переводами строк, можно использовать кнопку Import (Импорт) для считывания данных из этого XLIFF-или CSV-файла. Если XLIFF- или CSV-файл содержит новый язык, этот язык добавляется в проект. Если XLIFF-файл содержит новые строковые данные для существующего языка, они импортируются в проект. Операция импорта не изменяет строки на эталонном языке.

При нажатии кнопки Export (Экспорт) отображается диалоговое окно XLIFF/CSV Export Control (Управление экспортом в формат XLIFF/CSV), приведенное ниже.

![Снимок экрана: диалоговое окно XLIFF/CSV Export Control (Управление экспортом в формат XLIFF/CSV)](./media/guix-studio/image54.jpg)

**Рис. 20**

Поля Source Language (Исходный язык) и Target Language (Целевой язык) указывают, какие столбцы таблицы строк будут записаны в XLIFF- или CSV-файл в качестве эталонного языка и языка перевода. Исходный язык — это строки на эталонном языке, а целевой язык — это язык, для которого переводчик предоставит переведенные строковые данные.

В поле XLIFF version (Версия XLIFF) указывается одна из двух основных версий формата XLIFF-файлов — 1.2 или 2.0 (и более поздние версии). Эти стандарты формата XLIFF-файлов несовместимы, и вам нужно знать, какая версия используется в применяемых средствах, прежде чем использовать команды экспорта и импорта XLIFF. Дополнительные сведения о схеме XLIFF и стандартах XLIFF можно найти по следующим ссылкам.

- Версия 1.2: [https://docs.oasis-open.org/xliff/xliff-core/xliff-core.html](https://docs.oasis-open.org/xliff/xliff-core/xliff-core.html)
- Версия 2.0: [https://docs.oasis-open.org/xliff/xliff-core/v2.0/os/xliff-core-v2.0os.pdf](https://docs.oasis-open.org/xliff/xliff-core/v2.0/os/xliff-core-v2.0-os.pdf)

Поля Output filename (Имя выходного файла) и Output path (Выходной путь) позволяют указать имя выходного файла и расположение, в которое он будет записан. Имя файла полностью определяется пользователем, но мы рекомендуем использовать имена, которые указывают на исходный и целевой языки в экспортированном файле.
